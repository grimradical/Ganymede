<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Sep 29 01:39:37 CDT 2010 -->
<TITLE>
DBEditSet
</TITLE>

<META NAME="date" CONTENT="2010-09-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DBEditSet";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBEditSet.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/DBEditSet.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBEditSet.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
arlut.csd.ganymede.server</FONT>
<BR>
Class DBEditSet</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>arlut.csd.ganymede.server.DBEditSet</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DBEditSet</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>DBEditSet is the basic transactional unit.  All changes to the
 database during normal operations are made in the context of a
 DBEditSet, which may then be committed or rolled back as an atomic
 operation.  Each <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server"><CODE>DBSession</CODE></A> will
 have at most one DBEditSet transaction object active at any time.</p>

 <p>A DBEditSet tracks several things for the server, including instances of
 <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server"><CODE>DBEditObject</CODE></A>'s that were created
 or checked-out from the <A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server"><CODE>DBStore</CODE></A>,
 <A HREF="../../../../arlut/csd/ganymede/server/DBNameSpace.html" title="class in arlut.csd.ganymede.server"><CODE>DBNameSpace</CODE></A> values that were reserved
 during the course of the transaction, and <A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><CODE>DBLogEvent</CODE></A>
 objects to be recorded in the <A HREF="../../../../arlut/csd/ganymede/server/DBLog.html" title="class in arlut.csd.ganymede.server"><CODE>DBLog</CODE></A> and/or
 mailed out to various interested parties when the transaction is committed.</p>

 <p>DBEditSet's transaction logic is based on a two-phase commit
 protocol, where all DBEditObject's involved in the transaction are
 given an initial opportunity to approve or reject the transaction's
 commit before the DBEditSet commit method goes back and 'locks-in'
 the changes.  DBEditObjects are able to initiate changes external
 to the Ganymede database in their
 <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html#commitPhase2()"><CODE>commitPhase2()</CODE></A>
 methods, if needed.</p>

 <p>When a DBEditSet is committed, a <A HREF="../../../../arlut/csd/ganymede/server/DBWriteLock.html" title="class in arlut.csd.ganymede.server"><CODE>DBWriteLock</CODE></A>
 is established on all <A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server"><CODE>DBObjectBase</CODE></A>'s
 involved in the transaction.  All objects checked out by that transaction
 are then updated in the DBStore, and a summary of changes is recorded to the
 DBStore <A HREF="../../../../arlut/csd/ganymede/server/DBJournal.html" title="class in arlut.csd.ganymede.server"><CODE>DBJournal</CODE></A>.  The database as
 a whole will not be dumped to disk unless and until the
 <A HREF="../../../../arlut/csd/ganymede/server/dumpTask.html" title="class in arlut.csd.ganymede.server"><CODE>dumpTask</CODE></A> is run, or until the server
 undergoes a formal shutdown.</p>

 <p>Typically, the <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit(java.lang.String)"><CODE>commit()</CODE></A>
 method is called by the
 <A HREF="../../../../arlut/csd/ganymede/server/GanymedeSession.html#commitTransaction(boolean)"><CODE>GanymedeSession.commitTransaction()</CODE></A>
 method, which will induce the server to schedule any commit-time build
 tasks registered with the <A HREF="../../../../arlut/csd/ganymede/server/GanymedeScheduler.html" title="class in arlut.csd.ganymede.server"><CODE>GanymedeScheduler</CODE></A>.</p>

 <p>If a DBEditSet commit() operation fails catastrophically, or if
 <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#abort()"><CODE>abort()</CODE></A> is called,
 all DBEditObjects created or checked out during the course of the
 transaction will be discarded, all DBNameSpace values allocated will
 be relinquished, and any logging information for the abandoned transaction
 will be forgotten.</p>

 <p>As if all that wasn't enough, the DBEditSet class also maintains a stack
 of <A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server"><CODE>DBCheckPoint</CODE></A> objects to enable
 users to set checkpoints during the course of a transaction.  These objects
 are basically a snapshot of the transaction's state at the moment of the
 checkpoint, and are used to rollback the transaction to a known state if
 a series of linked operations within a transaction cannot all be completed.</p>

 <p>Finally, note that the DBEditSet class does not actually track namespace
 value allocations.. instead, the DBNameSpace class is responsible for recording
 a list of values allocated by each active DBEditSet.  When a DBEditSet commits
 or releases, all DBNameSpace objects in the server are informed of this, whereupon
 they do their own cleanup.</p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#allowXMLHistoryOverride">allowXMLHistoryOverride</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will be true if we are running this transaction on behalf of an
 XML client and the server was started with the -historyOverride
 command line parameter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server">DBObjectBase</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#basesModified">basesModified</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A record of the <A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server"><CODE>DBObjectBase</CODE></A>'s
 touched by this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/Util/NamedStack.html" title="class in arlut.csd.Util">NamedStack</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#checkpoints">checkpoints</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A stack of <A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server"><CODE>DBCheckPoint</CODE></A> objects
 to keep track of check points performed during the course of this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#comment">comment</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A comment to attach to logging and email generated in response to
 this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server">DBStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#dbStore">dbStore</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Who's our daddy?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#description">description</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A brief description of the client associated with this
 transaction, used in logging to identify what was done by the
 main client, what by a password-changing utility, etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#interactive">interactive</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if this DBEditSet is operating in interactive mode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logEvents">logEvents</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A List of <A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><CODE>DBLogEvent</CODE></A>'s
 to be written to the Ganymede logfile and/or mailed out when
 this transaction commits.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#mustAbort">mustAbort</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if this DBEditSet is operating in non-interactive mode
 and a rollback was ordered.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>,<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#objects">objects</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maps Invids to <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server"><CODE>DBEditObject</CODE></A>s checked out in care of this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#persistedTransaction">persistedTransaction</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This DBJournalTransaction is used to remember information
 about a transaction that we have persisted to the on-disk
 journal, but which we have not yet finalized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#session">session</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to the DBSession that this transaction is attached to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#ts">ts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TranslationService object for handling string localization in
 the Ganymede server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBWriteLock.html" title="class in arlut.csd.ganymede.server">DBWriteLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#wLock">wLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The writelock acquired during the course of a commit attempt.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#DBEditSet(arlut.csd.ganymede.server.DBStore, arlut.csd.ganymede.server.DBSession, java.lang.String, boolean)">DBEditSet</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server">DBStore</A>&nbsp;dbStore,
          <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A>&nbsp;session,
          java.lang.String&nbsp;description,
          boolean&nbsp;interactive)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor for DBEditSet</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#abort()">abort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is intended for use by DBSession's
 abortTransaction() method, and returns true if the transaction
 could be aborted, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#addObject(arlut.csd.ganymede.server.DBEditObject)">addObject</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to associate a DBEditObject with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#checkpoint(java.lang.String)">checkpoint</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method checkpoints the current transaction at its current
 state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_checkObjectMissingFields(arlut.csd.ganymede.server.DBEditObject)">commit_checkObjectMissingFields</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for the commit() method runs a
 check looking for missing mandatory fields on an object
 involved with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_finalizeTransaction()">commit_finalizeTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for commit() writes a finalized
 token to the on-disk transactions journal, so that we'll know
 upon restart that we don't need to scrub the transaction from the
 sync channels.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_handlePhase1()">commit_handlePhase1</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for the commit() method handles
 phase 1 of transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_handlePhase2()">commit_handlePhase2</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method calls <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html#commitPhase2()"><CODE>DBEditObject.commitPhase2()</CODE></A> on the
 DBEditObjects in this transaction, after we have successfully
 finalized the transaction to disk.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_integrateChanges()">commit_integrateChanges</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for commit() integrates all
 committed objects back into the DBStore, handling on-disk change
 journaling, transaction logging, namespaces, and more.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server">DBObjectBase</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_lockBases()">commit_lockBases</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain a write lock on all bases modified by this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_log_event(arlut.csd.ganymede.server.DBEditObject, java.util.Set)">commit_log_event</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj,
                 java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method is executed in the middle of the
 commit() method, and handles logging for any changes made to a
 DBEditObject during the committed transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_log_events(java.util.Set)">commit_log_events</A></B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method is executed in the middle of the
 commit() method, and handles logging for any changes made to
 objects during the committed transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_logTransaction(java.util.Set)">commit_logTransaction</A></B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method handles the on-disk and email logging for events
 that have built up over the course of this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_persistTransaction()">commit_persistTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for commit() writes the transaction
 to the on-disk transactions journal, which will persist our
 transaction's changes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_recordModificationDates()">commit_recordModificationDates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for the commit() method records
 the creation/modification timestamp for the vector of
 committed objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_replace_object(arlut.csd.ganymede.server.DBEditObject)">commit_replace_object</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Private helper method for commit() that integrates committed
 objects back into the DBStore hashes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_replace_objects()">commit_replace_objects</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method integrates commiteted objects back into our in-memory
 DBStore data structures, and clears the transaction of objects as
 it does so.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_run_precommit_hooks()">commit_run_precommit_hooks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This hook is run before we lock the bases, so we're still able to
 make changes to our objects in transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_updateBases(java.util.Set)">commit_updateBases</A></B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Private helper method for commit() which causes all bases that
 were touched by this transaction to be updated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_updateNamespaces()">commit_updateNamespaces</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Private helper method for commit() which causes all namespaces to update
 themselves in conjunction with a commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_verifyNamespaces()">commit_verifyNamespaces</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If this transaction was carried out by an xml session, we will
 have allowed namespace operations (in particular, moving values
 from one field in a namespace to another) to be done
 out-of-order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit_writeSyncChannels()">commit_writeSyncChannels</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method for commit() writes the transaction
 to all of the builder queue sync channels.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/common/ReturnVal.html" title="class in arlut.csd.ganymede.common">ReturnVal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#commit(java.lang.String)">commit</A></B>(java.lang.String&nbsp;comment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit is used to cause all changes in association with this
 DBEditSet to be performed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#deconstruct()">deconstruct</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Private helper method for commit() and release(), which breaks apart
 and nulls references to data structures maintained for this transaction
 to aid GC.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#findObject(arlut.csd.ganymede.server.DBObject)">findObject</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to find a DBObject / DBEditObject if it has
 previously been checked out to this EditSet in some
 fashion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#findObject(arlut.csd.ganymede.common.Invid)">findObject</A></B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to find a DBObject / DBEditObject if it has
 previously been checked out to this EditSet in some
 fashion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getDescription()">getDescription</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the descriptive string passed to us when this
 transaction was opened.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/GanymedeSession.html" title="class in arlut.csd.ganymede.server">GanymedeSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getGSession()">getGSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the user-level GanymedeSession object associated with this
 transaction, or null if there is no GanymedeSession associated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>,<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getObjectHashClone()">getObjectHashClone</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To allow the GanymedeSession to get a copy of our object hash.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getObjectList()">getObjectList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a list of objects that we are currently working on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getSession()">getSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to return the DBSession handle owning this
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#getUsername()">getUsername</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the GanymedeSession user who created this
 transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#isEditingObject(arlut.csd.ganymede.common.Invid)">isEditingObject</A></B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns true if the invid parameter
 has been checked out for editing by this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#isInteractive()">isInteractive</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns true if this transaction is being carried
 out by an interactive client.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#isOversightOn()">isOversightOn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the GanymedeSession associated with this
 transaction has oversight turned on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logEvent(arlut.csd.ganymede.server.DBLogEvent)">logEvent</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to register a log event with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logEvent(java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.List, java.util.List)">logEvent</A></B>(java.lang.String&nbsp;eventClassToken,
         java.lang.String&nbsp;description,
         <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
         java.lang.String&nbsp;adminName,
         java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&gt;&nbsp;objects,
         java.util.List&lt;java.lang.String&gt;&nbsp;notifyList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to register a log event with this transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logMail(java.util.Collection, java.lang.String, java.lang.String)">logMail</A></B>(java.util.Collection&lt;java.lang.String&gt;&nbsp;addresses,
        java.lang.String&nbsp;subject,
        java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to record a message to be sent out when
 the transaction is committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logMail(java.util.Collection, java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.Vector)">logMail</A></B>(java.util.Collection&lt;java.lang.String&gt;&nbsp;addresses,
        java.lang.String&nbsp;subject,
        java.lang.String&nbsp;message,
        <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
        java.lang.String&nbsp;adminName,
        java.util.Vector&nbsp;objects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to record a message to be sent out when
 the transaction is committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#logMail(java.lang.String, java.lang.String, java.lang.String)">logMail</A></B>(java.lang.String&nbsp;toAddress,
        java.lang.String&nbsp;subject,
        java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to record a message to be sent out when
 the transaction is committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server">DBCheckPoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#popCheckpoint(java.lang.String)">popCheckpoint</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to pop a checkpoint off the checkpoint
 stack without making any other changes to the edit set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server">DBCheckPoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#popCheckpoint(java.lang.String, boolean)">popCheckpoint</A></B>(java.lang.String&nbsp;name,
              boolean&nbsp;inRollback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to pop a checkpoint off the checkpoint
 stack without making any other changes to the edit set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release is used to abandon all changes made in association
 with this DBEditSet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#releaseWriteLock()">releaseWriteLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a dinky little private helper method to keep things
 clean.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#rollback(java.lang.String)">rollback</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This brings this transaction back to the state it was
 at at the time of the matching checkPoint() call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#streamLogEvent(arlut.csd.ganymede.server.DBLogEvent)">streamLogEvent</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to transmit a log event during successful
 transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#streamLogEvent(java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.List, java.util.List)">streamLogEvent</A></B>(java.lang.String&nbsp;eventClassToken,
               java.lang.String&nbsp;description,
               <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
               java.lang.String&nbsp;adminName,
               java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&gt;&nbsp;objects,
               java.util.List&lt;java.lang.String&gt;&nbsp;notifyList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to transmit a log event during successful
 transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#streamLogMail(java.util.Vector, java.lang.String, java.lang.String)">streamLogMail</A></B>(java.util.Vector&nbsp;addresses,
              java.lang.String&nbsp;subject,
              java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to transmit a message during transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#streamLogMail(java.util.Vector, java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.Vector)">streamLogMail</A></B>(java.util.Vector&nbsp;addresses,
              java.lang.String&nbsp;subject,
              java.lang.String&nbsp;message,
              <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
              java.lang.String&nbsp;adminName,
              java.util.Vector&nbsp;objects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to transmit a message during transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#undoSyncChannels()">undoSyncChannels</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method scrubs the sync channels of the
 persistedTransaction, so that we can avoid having bits of the
 transaction sync'ed to the channels when we ultimately wind up
 undoing the transaction.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ts"><!-- --></A><H3>
ts</H3>
<PRE>
static final <A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A> <B>ts</B></PRE>
<DL>
<DD><p>TranslationService object for handling string localization in
 the Ganymede server.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="objects"><!-- --></A><H3>
objects</H3>
<PRE>
private java.util.Map&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>,<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&gt; <B>objects</B></PRE>
<DL>
<DD><p>Maps Invids to <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server"><CODE>DBEditObject</CODE></A>s checked out in care of this transaction.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="logEvents"><!-- --></A><H3>
logEvents</H3>
<PRE>
private java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&gt; <B>logEvents</B></PRE>
<DL>
<DD><p>A List of <A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><CODE>DBLogEvent</CODE></A>'s
 to be written to the Ganymede logfile and/or mailed out when
 this transaction commits.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="basesModified"><!-- --></A><H3>
basesModified</H3>
<PRE>
private java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server">DBObjectBase</A>&gt; <B>basesModified</B></PRE>
<DL>
<DD><p>A record of the <A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server"><CODE>DBObjectBase</CODE></A>'s
 touched by this transaction.  These DBObjectBase's will be locked
 when this transaction is committed.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="dbStore"><!-- --></A><H3>
dbStore</H3>
<PRE>
<A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server">DBStore</A> <B>dbStore</B></PRE>
<DL>
<DD>Who's our daddy?
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="session"><!-- --></A><H3>
session</H3>
<PRE>
<A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A> <B>session</B></PRE>
<DL>
<DD>A reference to the DBSession that this transaction is attached to.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="description"><!-- --></A><H3>
description</H3>
<PRE>
java.lang.String <B>description</B></PRE>
<DL>
<DD>A brief description of the client associated with this
 transaction, used in logging to identify what was done by the
 main client, what by a password-changing utility, etc.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="allowXMLHistoryOverride"><!-- --></A><H3>
allowXMLHistoryOverride</H3>
<PRE>
private boolean <B>allowXMLHistoryOverride</B></PRE>
<DL>
<DD>Will be true if we are running this transaction on behalf of an
 XML client and the server was started with the -historyOverride
 command line parameter.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="checkpoints"><!-- --></A><H3>
checkpoints</H3>
<PRE>
private <A HREF="../../../../arlut/csd/Util/NamedStack.html" title="class in arlut.csd.Util">NamedStack</A> <B>checkpoints</B></PRE>
<DL>
<DD>A stack of <A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server"><CODE>DBCheckPoint</CODE></A> objects
 to keep track of check points performed during the course of this transaction.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="wLock"><!-- --></A><H3>
wLock</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/DBWriteLock.html" title="class in arlut.csd.ganymede.server">DBWriteLock</A> <B>wLock</B></PRE>
<DL>
<DD><p>The writelock acquired during the course of a commit attempt.  We keep
 this around as a DBEditSet field so that we can use the handy
 <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html#releaseWriteLock()"><CODE>releaseWriteLock()</CODE></A>
 method, but wLock should really never be non-null outside of the
 context of the commit() call.</p>

 <p>As long as the writeLock is held, no other transactions can
 proceed into commit on the same object bases.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="interactive"><!-- --></A><H3>
interactive</H3>
<PRE>
private boolean <B>interactive</B></PRE>
<DL>
<DD><p>True if this DBEditSet is operating in interactive mode.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mustAbort"><!-- --></A><H3>
mustAbort</H3>
<PRE>
private boolean <B>mustAbort</B></PRE>
<DL>
<DD><p>True if this DBEditSet is operating in non-interactive mode
 and a rollback was ordered.  In such cases, the server skipped
 doing the checkpoint and so has no choice but to condemn the
 whole transaction.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="persistedTransaction"><!-- --></A><H3>
persistedTransaction</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A> <B>persistedTransaction</B></PRE>
<DL>
<DD><p>This DBJournalTransaction is used to remember information
 about a transaction that we have persisted to the on-disk
 journal, but which we have not yet finalized.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="comment"><!-- --></A><H3>
comment</H3>
<PRE>
private java.lang.String <B>comment</B></PRE>
<DL>
<DD>A comment to attach to logging and email generated in response to
 this transaction.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DBEditSet(arlut.csd.ganymede.server.DBStore, arlut.csd.ganymede.server.DBSession, java.lang.String, boolean)"><!-- --></A><H3>
DBEditSet</H3>
<PRE>
public <B>DBEditSet</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server">DBStore</A>&nbsp;dbStore,
                 <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A>&nbsp;session,
                 java.lang.String&nbsp;description,
                 boolean&nbsp;interactive)</PRE>
<DL>
<DD>Constructor for DBEditSet
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>dbStore</CODE> - The owning DBStore object.<DD><CODE>session</CODE> - The DBStore session owning this transaction.<DD><CODE>description</CODE> - An optional string to identify this transaction<DD><CODE>interactive</CODE> - If false, this transaction will operate in
 non-interactive mode.  Certain Invid operations will be optimized
 to avoid doing choice list queries and bind checkpoint
 operations.  When a transaction is operating in non-interactive mode,
 any failure that cannot be handled cleanly due to the optimizations will
 result in the transaction refusing to commit when commitTransaction()
 is attempted.  This mode is intended for batch operations.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getSession()"><!-- --></A><H3>
getSession</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server">DBSession</A> <B>getSession</B>()</PRE>
<DL>
<DD><p>Method to return the DBSession handle owning this
 transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGSession()"><!-- --></A><H3>
getGSession</H3>
<PRE>
public final <A HREF="../../../../arlut/csd/ganymede/server/GanymedeSession.html" title="class in arlut.csd.ganymede.server">GanymedeSession</A> <B>getGSession</B>()</PRE>
<DL>
<DD><p>Returns the user-level GanymedeSession object associated with this
 transaction, or null if there is no GanymedeSession associated.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDescription()"><!-- --></A><H3>
getDescription</H3>
<PRE>
public final java.lang.String <B>getDescription</B>()</PRE>
<DL>
<DD><p>Returns the descriptive string passed to us when this
 transaction was opened.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUsername()"><!-- --></A><H3>
getUsername</H3>
<PRE>
public final java.lang.String <B>getUsername</B>()</PRE>
<DL>
<DD><p>Returns the name of the GanymedeSession user who created this
 transaction.</p>

 <p>If this transaction was created by an admin persona, we will
 return that persona name, otherwise we'll return the user
 name.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isOversightOn()"><!-- --></A><H3>
isOversightOn</H3>
<PRE>
public final boolean <B>isOversightOn</B>()</PRE>
<DL>
<DD><p>Returns true if the GanymedeSession associated with this
 transaction has oversight turned on.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isInteractive()"><!-- --></A><H3>
isInteractive</H3>
<PRE>
public boolean <B>isInteractive</B>()</PRE>
<DL>
<DD><p>This method returns true if this transaction is being carried
 out by an interactive client.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectHashClone()"><!-- --></A><H3>
getObjectHashClone</H3>
<PRE>
public java.util.Map&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>,<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&gt; <B>getObjectHashClone</B>()</PRE>
<DL>
<DD><p>To allow the GanymedeSession to get a copy of our object hash.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectList()"><!-- --></A><H3>
getObjectList</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[] <B>getObjectList</B>()</PRE>
<DL>
<DD><p>Return a list of objects that we are currently working on.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findObject(arlut.csd.ganymede.server.DBObject)"><!-- --></A><H3>
findObject</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A> <B>findObject</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;object)</PRE>
<DL>
<DD><p>Method to find a DBObject / DBEditObject if it has
 previously been checked out to this EditSet in some
 fashion.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findObject(arlut.csd.ganymede.common.Invid)"><!-- --></A><H3>
findObject</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A> <B>findObject</B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid)</PRE>
<DL>
<DD><p>Method to find a DBObject / DBEditObject if it has
 previously been checked out to this EditSet in some
 fashion.  This method is used to allow consistency
 check code in the DBEditObjects to get a transaction
 consistent view of the system as it stands with the
 transaction's changes made.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isEditingObject(arlut.csd.ganymede.common.Invid)"><!-- --></A><H3>
isEditingObject</H3>
<PRE>
public boolean <B>isEditingObject</B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid)</PRE>
<DL>
<DD><p>This method returns true if the invid parameter
 has been checked out for editing by this transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addObject(arlut.csd.ganymede.server.DBEditObject)"><!-- --></A><H3>
addObject</H3>
<PRE>
public boolean <B>addObject</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;object)</PRE>
<DL>
<DD><p>Method to associate a DBEditObject with this transaction.</p>

 <p>This method is called by the createDBObject and editDBObject
 methods in <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server"><CODE>DBSession</CODE></A>.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - The newly created DBEditObject.</DL>
</DD>
</DL>
<HR>

<A NAME="logEvent(java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.List, java.util.List)"><!-- --></A><H3>
logEvent</H3>
<PRE>
public void <B>logEvent</B>(java.lang.String&nbsp;eventClassToken,
                     java.lang.String&nbsp;description,
                     <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
                     java.lang.String&nbsp;adminName,
                     java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&gt;&nbsp;objects,
                     java.util.List&lt;java.lang.String&gt;&nbsp;notifyList)</PRE>
<DL>
<DD><p>This method is used to register a log event with this transaction.
 If the transaction successfully commits, the provided log event
 will be recorded in the Ganymede log file and mail notification will
 be sent out if appropriate.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eventClassToken</CODE> - a short string specifying a DBObject record describing
 the general category for the event<DD><CODE>description</CODE> - Descriptive text to be entered in the record of the event<DD><CODE>admin</CODE> - Invid pointing to the adminPersona that fired the event, if any<DD><CODE>adminName</CODE> - String containing the name of the adminPersona that fired the event, if any<DD><CODE>objects</CODE> - A List of invids of objects involved in this event.<DD><CODE>notifyList</CODE> - A List of Strings listing email addresses to send notification
 of this event to.</DL>
</DD>
</DL>
<HR>

<A NAME="logEvent(arlut.csd.ganymede.server.DBLogEvent)"><!-- --></A><H3>
logEvent</H3>
<PRE>
public void <B>logEvent</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</PRE>
<DL>
<DD><p>This method is used to register a log event with this transaction.
 If the transaction successfully commits, the provided log event
 will be recorded in the Ganymede log file and mail notification will
 be sent out if appropriate.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - A pre-formed log event to register with this transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="logMail(java.util.Collection, java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.Vector)"><!-- --></A><H3>
logMail</H3>
<PRE>
public void <B>logMail</B>(java.util.Collection&lt;java.lang.String&gt;&nbsp;addresses,
                    java.lang.String&nbsp;subject,
                    java.lang.String&nbsp;message,
                    <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
                    java.lang.String&nbsp;adminName,
                    java.util.Vector&nbsp;objects)</PRE>
<DL>
<DD><p>This method is used to record a message to be sent out when
 the transaction is committed.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - Vector of Strings, the address list<DD><CODE>subject</CODE> - The subject line of the message<DD><CODE>message</CODE> - The body of the message<DD><CODE>admin</CODE> - The invid of the admin whose action resulted in the mail<DD><CODE>adminName</CODE> - The name of the admin whose actin resulted in the mail<DD><CODE>objects</CODE> - A vector of invids of objects involved in the mail</DL>
</DD>
</DL>
<HR>

<A NAME="logMail(java.util.Collection, java.lang.String, java.lang.String)"><!-- --></A><H3>
logMail</H3>
<PRE>
public void <B>logMail</B>(java.util.Collection&lt;java.lang.String&gt;&nbsp;addresses,
                    java.lang.String&nbsp;subject,
                    java.lang.String&nbsp;message)</PRE>
<DL>
<DD><p>This method is used to record a message to be sent out when
 the transaction is committed.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - Vector of Strings, the address list<DD><CODE>subject</CODE> - The subject line of the message<DD><CODE>message</CODE> - The body of the message</DL>
</DD>
</DL>
<HR>

<A NAME="logMail(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
logMail</H3>
<PRE>
public void <B>logMail</B>(java.lang.String&nbsp;toAddress,
                    java.lang.String&nbsp;subject,
                    java.lang.String&nbsp;message)</PRE>
<DL>
<DD>This method is used to record a message to be sent out when
 the transaction is committed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>toAddress</CODE> - The email address to send this message to.<DD><CODE>subject</CODE> - The subject line of the message<DD><CODE>message</CODE> - The body of the message</DL>
</DD>
</DL>
<HR>

<A NAME="streamLogEvent(java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.List, java.util.List)"><!-- --></A><H3>
streamLogEvent</H3>
<PRE>
private void <B>streamLogEvent</B>(java.lang.String&nbsp;eventClassToken,
                            java.lang.String&nbsp;description,
                            <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
                            java.lang.String&nbsp;adminName,
                            java.util.List&lt;<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&gt;&nbsp;objects,
                            java.util.List&lt;java.lang.String&gt;&nbsp;notifyList)</PRE>
<DL>
<DD><p>This method is used to transmit a log event during successful
 transaction commit.  The provided log event is recorded in the
 Ganymede log file and mail notification is sent out if
 appropriate.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eventClassToken</CODE> - a short string specifying a DBObject record describing
 the general category for the event<DD><CODE>description</CODE> - Descriptive text to be entered in the record of the event<DD><CODE>admin</CODE> - Invid pointing to the adminPersona that fired the event, if any<DD><CODE>adminName</CODE> - String containing the name of the adminPersona that fired the event, if any<DD><CODE>objects</CODE> - A vector of invids of objects involved in this event.<DD><CODE>notifyList</CODE> - A vector of Strings listing email addresses to send notification
 of this event to.</DL>
</DD>
</DL>
<HR>

<A NAME="streamLogEvent(arlut.csd.ganymede.server.DBLogEvent)"><!-- --></A><H3>
streamLogEvent</H3>
<PRE>
private void <B>streamLogEvent</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</PRE>
<DL>
<DD><p>This method is used to transmit a log event during successful
 transaction commit.  The provided log event is recorded in the
 Ganymede log file and mail notification is sent out if
 appropriate.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - A pre-formed log event to register with this transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="streamLogMail(java.util.Vector, java.lang.String, java.lang.String, arlut.csd.ganymede.common.Invid, java.lang.String, java.util.Vector)"><!-- --></A><H3>
streamLogMail</H3>
<PRE>
private void <B>streamLogMail</B>(java.util.Vector&nbsp;addresses,
                           java.lang.String&nbsp;subject,
                           java.lang.String&nbsp;message,
                           <A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;admin,
                           java.lang.String&nbsp;adminName,
                           java.util.Vector&nbsp;objects)</PRE>
<DL>
<DD><p>This method is used to transmit a message during transaction commit.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - Vector of Strings, the address list<DD><CODE>subject</CODE> - The subject line of the message<DD><CODE>message</CODE> - The body of the message<DD><CODE>admin</CODE> - The invid of the admin whose action resulted in the mail<DD><CODE>adminName</CODE> - The name of the admin whose actin resulted in the mail<DD><CODE>objects</CODE> - A vector of invids of objects involved in the mail</DL>
</DD>
</DL>
<HR>

<A NAME="streamLogMail(java.util.Vector, java.lang.String, java.lang.String)"><!-- --></A><H3>
streamLogMail</H3>
<PRE>
private void <B>streamLogMail</B>(java.util.Vector&nbsp;addresses,
                           java.lang.String&nbsp;subject,
                           java.lang.String&nbsp;message)</PRE>
<DL>
<DD><p>This method is used to transmit a message during transaction commit.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addresses</CODE> - Vector of Strings, the address list<DD><CODE>subject</CODE> - The subject line of the message<DD><CODE>message</CODE> - The body of the message</DL>
</DD>
</DL>
<HR>

<A NAME="checkpoint(java.lang.String)"><!-- --></A><H3>
checkpoint</H3>
<PRE>
public void <B>checkpoint</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD><p>This method checkpoints the current transaction at its current
 state. If need be, this transaction can later be rolled back
 to this point by calling the rollback() method.</p>

 <p>Once a thread checkpoints a transaction, no other thread
 can checkpoint a transaction until some thread clears the
 checkpoint, either by doing a rollback() or a popCheckpoint().
 checkpoint() will block any threads that try to establish a checkpoint()
 until the prior thread's checkpoint is resolved.</p>

 <p>See DBSession.deleteDBObject() and DBSesssion.createDBObject()
 for instances of this.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - An identifier for this checkpoint</DL>
</DD>
</DL>
<HR>

<A NAME="popCheckpoint(java.lang.String)"><!-- --></A><H3>
popCheckpoint</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server">DBCheckPoint</A> <B>popCheckpoint</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD><p>This method is used to pop a checkpoint off the checkpoint
 stack without making any other changes to the edit set.  This
 method is equivalent to a rollback where the checkpoint
 information is taken off the stack, but this DBEditSet's state is
 not reverted.</p>

 <p>Any checkpoints that were placed on the stack after
 the checkpoint matching &lt;name&gt; will also be
 removed from the checkpoint stack.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - An identifier for the checkpoint to take off
 the checkpoint stack.
<DT><B>Returns:</B><DD>null if the checkpoint could not be found on the
 stack, or the DBCheckPoint object representing the state
 of the transaction at the checkpoint time if the checkpoint
 could be found.</DL>
</DD>
</DL>
<HR>

<A NAME="popCheckpoint(java.lang.String, boolean)"><!-- --></A><H3>
popCheckpoint</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBCheckPoint.html" title="class in arlut.csd.ganymede.server">DBCheckPoint</A> <B>popCheckpoint</B>(java.lang.String&nbsp;name,
                                  boolean&nbsp;inRollback)</PRE>
<DL>
<DD><p>This method is used to pop a checkpoint off the checkpoint
 stack without making any other changes to the edit set.  This
 method is equivalent to a rollback where the checkpoint
 information is taken off the stack, but this DBEditSet's state is
 not reverted.</p>

 <p>Any checkpoints that were placed on the stack after
 the checkpoint matching &lt;name&gt; will also be
 removed from the checkpoint stack.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - An identifier for the checkpoint to take off
 the checkpoint stack.<DD><CODE>inRollback</CODE> - If true, popCheckpoint will not actually
 pop the checkpoint states out of the DBStore namespaces,
 leaving that for rollback() to finish up.
<DT><B>Returns:</B><DD>null if the checkpoint could not be found on the
 stack, or the DBCheckPoint object representing the state
 of the transaction at the checkpoint time if the checkpoint
 could be found.</DL>
</DD>
</DL>
<HR>

<A NAME="rollback(java.lang.String)"><!-- --></A><H3>
rollback</H3>
<PRE>
public boolean <B>rollback</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD><p>This brings this transaction back to the state it was
 at at the time of the matching checkPoint() call.  Any
 objects that were checked out in care of this transaction
 since the checkPoint() will be checked back into the
 database and made available for other transactions to
 access.  All namespace changes made by this transaction
 will likewise be rolled back to their state at the
 checkpoint.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - An identifier for the checkpoint to be rolled back to.</DL>
</DD>
</DL>
<HR>

<A NAME="commit(java.lang.String)"><!-- --></A><H3>
commit</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/common/ReturnVal.html" title="class in arlut.csd.ganymede.common">ReturnVal</A> <B>commit</B>(java.lang.String&nbsp;comment)</PRE>
<DL>
<DD><p>commit is used to cause all changes in association with this
 DBEditSet to be performed.  If commit() cannot make the changes
 for any reason, commit() will return a ReturnVal indicating
 failure and the cause of the commit failure.  Depending on the
 source of the failure, the transaction may be left open for a
 subsequent transaction commit or release.</p>

 <p>The returned <A HREF="../../../../arlut/csd/ganymede/common/ReturnVal.html" title="class in arlut.csd.ganymede.common"><CODE>ReturnVal</CODE></A>
 will have doNormalProcessing set to false if the transaction was
 completely aborted.  Both <A HREF="../../../../arlut/csd/ganymede/server/DBSession.html" title="class in arlut.csd.ganymede.server"><CODE>DBSession</CODE></A> and the client should take a false doNormalProcessing
 boolean as an indicator that the transaction was simply wiped out
 and a new transaction should be opened for subsequent activity.
 A true doNormalProcessing value indicates that the client can try
 the commit again at a later time, perhaps after making changes to
 fix the commit problem.</p>

 <p>This method is synchronized and calls a synchronized method on
 the DBSession which contains this DBEditSet.  Because of this,
 this method should really only be called by way of the
 DBSession.commitTransaction() method, to avoid the possibility of
 nested monitor deadlock.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>comment</CODE> - If not null, a comment to attach to logging and
 email generated in response to this transaction.
<DT><B>Returns:</B><DD>a ReturnVal indicating success or failure, or null on success
 without comment.</DL>
</DD>
</DL>
<HR>

<A NAME="commit_run_precommit_hooks()"><!-- --></A><H3>
commit_run_precommit_hooks</H3>
<PRE>
private final void <B>commit_run_precommit_hooks</B>()
                                       throws <A HREF="../../../../arlut/csd/ganymede/server/CommitException.html" title="class in arlut.csd.ganymede.server">CommitException</A></PRE>
<DL>
<DD>This hook is run before we lock the bases, so we're still able to
 make changes to our objects in transaction.

 The main use of this hook will be to allow DBEditObject
 subclasses to refresh their hidden unique label fields, if any.
 If such a hook has a problem, it should return a ReturnVal
 indicating the problem.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitException.html" title="class in arlut.csd.ganymede.server">CommitException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_lockBases()"><!-- --></A><H3>
commit_lockBases</H3>
<PRE>
private final java.util.Vector&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBase.html" title="class in arlut.csd.ganymede.server">DBObjectBase</A>&gt; <B>commit_lockBases</B>()
                                                       throws <A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></PRE>
<DL>
<DD><p>Obtain a write lock on all bases modified by this transaction.
 This method may block indefinitely, waiting on other transactions
 which are in the process of modifying the DBStore hashes.</p>

 <p>Returns a Vector of DBObjectBases that we have locked if we
 succeed.</p>

 <p>Throws a CommitNonFatalException if we can't get the lock.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_verifyNamespaces()"><!-- --></A><H3>
commit_verifyNamespaces</H3>
<PRE>
private final void <B>commit_verifyNamespaces</B>()
                                    throws <A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></PRE>
<DL>
<DD><p>If this transaction was carried out by an xml session, we will
 have allowed namespace operations (in particular, moving values
 from one field in a namespace to another) to be done
 out-of-order.  In such cases, we have to verify that the xml
 transaction ultimately put things back right.  This method does
 that for us, throwing a CommitNonFatalException if we were not
 successful.</p>

 <p>Of course, since the xmlclient has no way of interactively
 fixing a problem, the CommitNonFatalException winds up causing
 the transaction to be aborted by the xmlclient after all.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_handlePhase1()"><!-- --></A><H3>
commit_handlePhase1</H3>
<PRE>
private final void <B>commit_handlePhase1</B>()
                                throws <A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></PRE>
<DL>
<DD><p>This private helper method for the commit() method handles
 phase 1 of transaction commit.</p>

 <p>If an object refuses transaction commit, we'll throw a
 CommitNonFatalException with ReturnVal information encoded.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_checkObjectMissingFields(arlut.csd.ganymede.server.DBEditObject)"><!-- --></A><H3>
commit_checkObjectMissingFields</H3>
<PRE>
private final void <B>commit_checkObjectMissingFields</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj)
                                            throws <A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></PRE>
<DL>
<DD><p>This private helper method for the commit() method runs a
 check looking for missing mandatory fields on an object
 involved with this transaction.</p>

 <p>If the object is missing fields, a CommitNonFatalException
 will be thrown.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitNonFatalException.html" title="class in arlut.csd.ganymede.server">CommitNonFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_recordModificationDates()"><!-- --></A><H3>
commit_recordModificationDates</H3>
<PRE>
private final void <B>commit_recordModificationDates</B>()</PRE>
<DL>
<DD><p>This private helper method for the commit() method records
 the creation/modification timestamp for the vector of
 committed objects.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_integrateChanges()"><!-- --></A><H3>
commit_integrateChanges</H3>
<PRE>
private final void <B>commit_integrateChanges</B>()
                                    throws <A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></PRE>
<DL>
<DD><p>This private helper method for commit() integrates all
 committed objects back into the DBStore, handling on-disk change
 journaling, transaction logging, namespaces, and more.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_persistTransaction()"><!-- --></A><H3>
commit_persistTransaction</H3>
<PRE>
private final void <B>commit_persistTransaction</B>()
                                      throws <A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></PRE>
<DL>
<DD><p>This private helper method for commit() writes the transaction
 to the on-disk transactions journal, which will persist our
 transaction's changes.</p>

 <p>Will throw a CommitException if a failure was detected.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_writeSyncChannels()"><!-- --></A><H3>
commit_writeSyncChannels</H3>
<PRE>
private final void <B>commit_writeSyncChannels</B>()
                                     throws <A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></PRE>
<DL>
<DD><p>This private helper method for commit() writes the transaction
 to all of the builder queue sync channels.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="undoSyncChannels()"><!-- --></A><H3>
undoSyncChannels</H3>
<PRE>
private final void <B>undoSyncChannels</B>()</PRE>
<DL>
<DD><p>This private helper method scrubs the sync channels of the
 persistedTransaction, so that we can avoid having bits of the
 transaction sync'ed to the channels when we ultimately wind up
 undoing the transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_finalizeTransaction()"><!-- --></A><H3>
commit_finalizeTransaction</H3>
<PRE>
private final void <B>commit_finalizeTransaction</B>()
                                       throws <A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></PRE>
<DL>
<DD><p>This private helper method for commit() writes a finalized
 token to the on-disk transactions journal, so that we'll know
 upon restart that we don't need to scrub the transaction from the
 sync channels.</p>

 <p>Will throw a CommitException if a failure was detected.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/CommitFatalException.html" title="class in arlut.csd.ganymede.server">CommitFatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit_handlePhase2()"><!-- --></A><H3>
commit_handlePhase2</H3>
<PRE>
private final void <B>commit_handlePhase2</B>()</PRE>
<DL>
<DD><p>This private helper method calls <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html#commitPhase2()"><CODE>DBEditObject.commitPhase2()</CODE></A> on the
 DBEditObjects in this transaction, after we have successfully
 finalized the transaction to disk.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_log_events(java.util.Set)"><!-- --></A><H3>
commit_log_events</H3>
<PRE>
private final void <B>commit_log_events</B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</PRE>
<DL>
<DD>This private helper method is executed in the middle of the
 commit() method, and handles logging for any changes made to
 objects during the committed transaction.

 While this method is examining each object in the transaction to
 determine the diffs, we'll also take the opportunity to track the
 identity of all fields in all object bases that have themselves
 been touched.  We use the fieldsTouched Set for this purpose,
 storing the DBObjectBaseFields that were touched.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_log_event(arlut.csd.ganymede.server.DBEditObject, java.util.Set)"><!-- --></A><H3>
commit_log_event</H3>
<PRE>
private final void <B>commit_log_event</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj,
                                    java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</PRE>
<DL>
<DD><p>This private helper method is executed in the middle of the
 commit() method, and handles logging for any changes made to a
 DBEditObject during the committed transaction.</p>

 <p>While this method is examining each object in the transaction
 to determine the diffs, we'll also take the opportunity to track
 the identity of all fields in all object bases that have
 themselves been touched.  We use the fieldsTouched hashtable for
 this purpose, storing identity maps for the DBObjectBaseFields
 that were touched.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_logTransaction(java.util.Set)"><!-- --></A><H3>
commit_logTransaction</H3>
<PRE>
private final void <B>commit_logTransaction</B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</PRE>
<DL>
<DD><p>This method handles the on-disk and email logging for events
 that have built up over the course of this transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_replace_objects()"><!-- --></A><H3>
commit_replace_objects</H3>
<PRE>
private final void <B>commit_replace_objects</B>()</PRE>
<DL>
<DD>This method integrates commiteted objects back into our in-memory
 DBStore data structures, and clears the transaction of objects as
 it does so.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_replace_object(arlut.csd.ganymede.server.DBEditObject)"><!-- --></A><H3>
commit_replace_object</H3>
<PRE>
private final void <B>commit_replace_object</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;eObj)</PRE>
<DL>
<DD><p>Private helper method for commit() that integrates committed
 objects back into the DBStore hashes.</p>

 <p>If this method throws an exception, we will be pretty screwed,
 as it means we're not able to replace an object that we've
 already committed to our logs.  This essentially boils down to
 meaning that we're screwed if we can't create a new DBObject with
 a copy constructor from a DBEditObject.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_updateNamespaces()"><!-- --></A><H3>
commit_updateNamespaces</H3>
<PRE>
private final void <B>commit_updateNamespaces</B>()</PRE>
<DL>
<DD><p>Private helper method for commit() which causes all namespaces to update
 themselves in conjunction with a commit.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit_updateBases(java.util.Set)"><!-- --></A><H3>
commit_updateBases</H3>
<PRE>
private final void <B>commit_updateBases</B>(java.util.Set&lt;<A HREF="../../../../arlut/csd/ganymede/server/DBObjectBaseField.html" title="class in arlut.csd.ganymede.server">DBObjectBaseField</A>&gt;&nbsp;fieldsTouched)</PRE>
<DL>
<DD>Private helper method for commit() which causes all bases that
 were touched by this transaction to be updated.

 This should be run as late as possible in the commit()
 sequence to minimize the chance that a previously scheduled
 builder task completes and updates its lastRunTime field after we
 have touched the timestamps on the changed bases.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fieldsTouched</CODE> - hash of DBObjectBases that contain objects
 created, changed, or deleted during this transaction</DL>
</DD>
</DL>
<HR>

<A NAME="abort()"><!-- --></A><H3>
abort</H3>
<PRE>
public boolean <B>abort</B>()</PRE>
<DL>
<DD><p>This method is intended for use by DBSession's
 abortTransaction() method, and returns true if the transaction
 could be aborted, false otherwise.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
private final void <B>release</B>()</PRE>
<DL>
<DD><p>release is used to abandon all changes made in association
 with this DBEditSet.  All DBObjects created, deleted, or
 modified, and all unique values allocated and freed during the
 course of actions on this transaction will be reverted to their
 state when this transaction was created. </p>

 <p>Note that this does not mean that the entire DBStore will revert
 to its state at the beginning of this transaction;  any changes not
 relating to objects and namespace values connected to this transaction
 will not be affected by this transaction's release. </p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deconstruct()"><!-- --></A><H3>
deconstruct</H3>
<PRE>
private void <B>deconstruct</B>()</PRE>
<DL>
<DD><p>Private helper method for commit() and release(), which breaks apart
 and nulls references to data structures maintained for this transaction
 to aid GC.</p>

 <p>This method also does a notifyAll() to wake up any checkpoint threads
 that are blocking waiting for the ability to checkpoint.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="releaseWriteLock()"><!-- --></A><H3>
releaseWriteLock</H3>
<PRE>
private void <B>releaseWriteLock</B>()</PRE>
<DL>
<DD><p>This is a dinky little private helper method to keep things
 clean.  It's essential that wLock be released if things go
 wrong, else next time this session tries to commit a transaction,
 it'll wind up waiting forever for the old lock to be released.</p>

 <p>Note that this method will fail if called after deconstruct().</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBEditSet.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/DBEditSet.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBEditSet.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
