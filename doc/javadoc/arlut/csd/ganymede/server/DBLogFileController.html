<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Wed Oct 06 17:39:40 CDT 2010 -->
<TITLE>
DBLogFileController
</TITLE>

<META NAME="date" CONTENT="2010-10-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DBLogFileController";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBLogFileController.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBLogPostGreSQLController.html" title="class in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/DBLogFileController.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBLogFileController.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
arlut.csd.ganymede.server</FONT>
<BR>
Class DBLogFileController</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>arlut.csd.ganymede.server.DBLogFileController</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html" title="interface in arlut.csd.ganymede.server">DBLogController</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>DBLogFileController</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html" title="interface in arlut.csd.ganymede.server">DBLogController</A></DL>
</PRE>

<P>
This controller class manages the recording and retrieval of <A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><CODE>DBLogEvents</CODE></A> for the <A HREF="../../../../arlut/csd/ganymede/server/DBLog.html" title="class in arlut.csd.ganymede.server"><CODE>DBLog</CODE></A> class, using an on-disk text
 file for the storage format.

 The file format used by this controller is the classic Ganymede log
 style, in which each event is stored on a line, with parameters
 separated by pipe characters.  This file format is documented in
 the server doc directory at doc/logDesign.html, or on the web at
 http://www.arlut.utexas.edu/gash2/design/logDesign.html
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Jonathan Abbey, jonabbey@arlut.utexas.edu, ARL:UT</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#logFileName">logFileName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.io.PrintWriter</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#logWriter">logWriter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#ts">ts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TranslationService object for handling string localization in the
 Ganymede server.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#DBLogFileController(java.io.PrintWriter)">DBLogFileController</A></B>(java.io.PrintWriter&nbsp;logWriter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This constructor is used to connect a DBLogFileController to an already
 existing PrintWriter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#DBLogFileController(java.lang.String)">DBLogFileController</A></B>(java.lang.String&nbsp;filename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This constructor should be used for normal purposes in order to have
 full log file functionality.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method shuts down this controller, freeing up any resources used by this
 controller.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#escapeStr(java.lang.String)">escapeStr</A></B>(java.lang.String&nbsp;in)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method makes the provided String safe for inclusion
 in the log file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#parseEvent(java.lang.String)">parseEvent</A></B>(java.lang.String&nbsp;line)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method sets the fields for this DBLogEvent from a logfile
 line.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#readNextField(char[], int)">readNextField</A></B>(char[]&nbsp;line,
              int&nbsp;startIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scan the string for this field, decoding backslash escapes in the
 process</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#readNotifyVect(char[], int)">readNotifyVect</A></B>(char[]&nbsp;line,
               int&nbsp;startIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method reads a vector of email addresses from a log file line</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#readObjectVect(char[], int)">readObjectVect</A></B>(char[]&nbsp;line,
               int&nbsp;startIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method reads a vector of invid's from a log file line</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.StringBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#retrieveHistory(arlut.csd.ganymede.common.Invid, java.util.Date, java.util.Date, boolean, boolean, boolean)">retrieveHistory</A></B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid,
                java.util.Date&nbsp;sinceTime,
                java.util.Date&nbsp;beforeTime,
                boolean&nbsp;keyOnAdmin,
                boolean&nbsp;fullTransactions,
                boolean&nbsp;getLoginEvents)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to scan the persistent log storage for log
 events that match invid and that have occurred since
 sinceTime.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#scanSep(char[], int)">scanSep</A></B>(char[]&nbsp;line,
        int&nbsp;startIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;find the index of the next field separator, taking into account
 escaped chars</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#writeEvent(arlut.csd.ganymede.server.DBLogEvent)">writeEvent</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method writes the given event to the persistent storage
 managed by this controller.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#writeSep(java.io.PrintWriter)">writeSep</A></B>(java.io.PrintWriter&nbsp;logWriter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a field separator to the log file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/DBLogFileController.html#writeStr(java.io.PrintWriter, java.lang.String)">writeStr</A></B>(java.io.PrintWriter&nbsp;logWriter,
         java.lang.String&nbsp;in)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a field to the log file, escaping it for safety</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ts"><!-- --></A><H3>
ts</H3>
<PRE>
static final <A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A> <B>ts</B></PRE>
<DL>
<DD>TranslationService object for handling string localization in the
 Ganymede server.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="logFileName"><!-- --></A><H3>
logFileName</H3>
<PRE>
java.lang.String <B>logFileName</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="logWriter"><!-- --></A><H3>
logWriter</H3>
<PRE>
java.io.PrintWriter <B>logWriter</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DBLogFileController(java.lang.String)"><!-- --></A><H3>
DBLogFileController</H3>
<PRE>
public <B>DBLogFileController</B>(java.lang.String&nbsp;filename)
                    throws java.io.IOException</PRE>
<DL>
<DD>This constructor should be used for normal purposes in order to have
 full log file functionality.
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>
<HR>

<A NAME="DBLogFileController(java.io.PrintWriter)"><!-- --></A><H3>
DBLogFileController</H3>
<PRE>
public <B>DBLogFileController</B>(java.io.PrintWriter&nbsp;logWriter)</PRE>
<DL>
<DD>This constructor is used to connect a DBLogFileController to an already
 existing PrintWriter.  Unlike with the filename constructor, this version
 does not emit a newline to terminate any incomplete entry in the PrintWriter's
 stream.  This constructor is thus suitable for use with StringWriters.

 Note that if this constructor is used, the retrieveHistory() method will
 throw an IllegalArgumentException, as there will be no file available to read
 from.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="writeEvent(arlut.csd.ganymede.server.DBLogEvent)"><!-- --></A><H3>
writeEvent</H3>
<PRE>
public void <B>writeEvent</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A>&nbsp;event)</PRE>
<DL>
<DD>This method writes the given event to the persistent storage
 managed by this controller.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html#writeEvent(arlut.csd.ganymede.server.DBLogEvent)">writeEvent</A></CODE> in interface <CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html" title="interface in arlut.csd.ganymede.server">DBLogController</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - The DBLogEvent to be recorded</DL>
</DD>
</DL>
<HR>

<A NAME="retrieveHistory(arlut.csd.ganymede.common.Invid, java.util.Date, java.util.Date, boolean, boolean, boolean)"><!-- --></A><H3>
retrieveHistory</H3>
<PRE>
public java.lang.StringBuffer <B>retrieveHistory</B>(<A HREF="../../../../arlut/csd/ganymede/common/Invid.html" title="class in arlut.csd.ganymede.common">Invid</A>&nbsp;invid,
                                              java.util.Date&nbsp;sinceTime,
                                              java.util.Date&nbsp;beforeTime,
                                              boolean&nbsp;keyOnAdmin,
                                              boolean&nbsp;fullTransactions,
                                              boolean&nbsp;getLoginEvents)</PRE>
<DL>
<DD>This method is used to scan the persistent log storage for log
 events that match invid and that have occurred since
 sinceTime.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html#retrieveHistory(arlut.csd.ganymede.common.Invid, java.util.Date, java.util.Date, boolean, boolean, boolean)">retrieveHistory</A></CODE> in interface <CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html" title="interface in arlut.csd.ganymede.server">DBLogController</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>invid</CODE> - If not null, retrieveHistory() will only return
 events involving this object invid.<DD><CODE>sinceTime</CODE> - if not null, retrieveHistory() will only return
 events occuring on or after the time specified in this Date
 object.<DD><CODE>beforeTime</CODE> - if not null, retrieveHistory() will only return
 events occurring on or before the time specified in this Date
 object.<DD><CODE>keyOnAdmin</CODE> - if true, rather than returning a string
 containing events that involved &lt;invid&gt;, retrieveHistory()
 will return a string containing events performed on behalf of the
 administrator with invid &lt;invid&gt;.<DD><CODE>fullTransactions</CODE> - if true, the buffer returned will include
 all events in any transactions that involve the given invid.  if
 false, only those events in a transaction directly affecting the
 given invid will be returned.<DD><CODE>getLoginEvents</CODE> - if true, this method will return only login
 and logout events.  if false, this method will return no login
 and logout events.
<DT><B>Returns:</B><DD>A human-readable multiline string containing a list of
 history events</DL>
</DD>
</DL>
<HR>

<A NAME="parseEvent(java.lang.String)"><!-- --></A><H3>
parseEvent</H3>
<PRE>
public <A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server">DBLogEvent</A> <B>parseEvent</B>(java.lang.String&nbsp;line)
                      throws java.io.IOException</PRE>
<DL>
<DD>This method sets the fields for this DBLogEvent from a logfile
 line.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="writeSep(java.io.PrintWriter)"><!-- --></A><H3>
writeSep</H3>
<PRE>
private final void <B>writeSep</B>(java.io.PrintWriter&nbsp;logWriter)</PRE>
<DL>
<DD>Write a field separator to the log file
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeStr(java.io.PrintWriter, java.lang.String)"><!-- --></A><H3>
writeStr</H3>
<PRE>
private final void <B>writeStr</B>(java.io.PrintWriter&nbsp;logWriter,
                            java.lang.String&nbsp;in)</PRE>
<DL>
<DD>Write a field to the log file, escaping it for safety
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="escapeStr(java.lang.String)"><!-- --></A><H3>
escapeStr</H3>
<PRE>
private final java.lang.String <B>escapeStr</B>(java.lang.String&nbsp;in)</PRE>
<DL>
<DD>This method makes the provided String safe for inclusion
 in the log file.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="scanSep(char[], int)"><!-- --></A><H3>
scanSep</H3>
<PRE>
private int <B>scanSep</B>(char[]&nbsp;line,
                    int&nbsp;startIndex)</PRE>
<DL>
<DD>find the index of the next field separator, taking into account
 escaped chars
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readNextField(char[], int)"><!-- --></A><H3>
readNextField</H3>
<PRE>
private java.lang.String <B>readNextField</B>(char[]&nbsp;line,
                                       int&nbsp;startIndex)</PRE>
<DL>
<DD>scan the string for this field, decoding backslash escapes in the
 process
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readObjectVect(char[], int)"><!-- --></A><H3>
readObjectVect</H3>
<PRE>
private java.util.Vector <B>readObjectVect</B>(char[]&nbsp;line,
                                        int&nbsp;startIndex)</PRE>
<DL>
<DD>This method reads a vector of invid's from a log file line
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>line</CODE> - The character array containing the Invid's to be extracted<DD><CODE>startIndex</CODE> - Where to start scanning the Invid's from in the line
<DT><B>Returns:</B><DD>The vector to place the results in, or null if this
 method should create its own result vector.</DL>
</DD>
</DL>
<HR>

<A NAME="readNotifyVect(char[], int)"><!-- --></A><H3>
readNotifyVect</H3>
<PRE>
private java.util.Vector <B>readNotifyVect</B>(char[]&nbsp;line,
                                        int&nbsp;startIndex)</PRE>
<DL>
<DD>This method reads a vector of email addresses from a log file line
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>line</CODE> - The character array containing the addresses's to be extracted<DD><CODE>startIndex</CODE> - Where to start scanning the addresses's from in the line
<DT><B>Returns:</B><DD>The vector to place the results in, or null if this
 method should create its own result vector.</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>This method shuts down this controller, freeing up any resources used by this
 controller.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../../arlut/csd/ganymede/server/DBLogController.html" title="interface in arlut.csd.ganymede.server">DBLogController</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBLogFileController.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBLogEvent.html" title="class in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/DBLogPostGreSQLController.html" title="class in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/DBLogFileController.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBLogFileController.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
