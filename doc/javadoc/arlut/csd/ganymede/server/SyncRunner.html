<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Wed Oct 06 17:39:42 CDT 2010 -->
<TITLE>
SyncRunner
</TITLE>

<META NAME="date" CONTENT="2010-10-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SyncRunner";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SyncRunner.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.SyncType.html" title="enum in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/SyncRunner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SyncRunner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
arlut.csd.ganymede.server</FONT>
<BR>
Class SyncRunner</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>arlut.csd.ganymede.server.SyncRunner</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>SyncRunner</B><DT>extends java.lang.Object<DT>implements java.lang.Runnable</DL>
</PRE>

<P>
<p>This class is used in the Ganymede server to handle Sync
 Channel-style incremental synchronization.  Unlike the full-state
 <A HREF="../../../../arlut/csd/ganymede/server/GanymedeBuilderTask.html" title="class in arlut.csd.ganymede.server"><CODE>GanymedeBuilderTask</CODE></A> system,
 SyncRunner is not designed to be customized through subclassing.
 Instead, all SyncRunner objects generate a common XML file format
 for writing out synchronization data.  SyncRunner objects are
 registered in the server for execution automatically when a
 <code>Sync Channel</code> object (using the <A HREF="../../../../arlut/csd/ganymede/server/syncChannelCustom.html" title="class in arlut.csd.ganymede.server"><CODE>syncChannelCustom</CODE></A> DBEditObject subclass
 for management) is created in the Ganymede data store.  This
 <code>Sync Channel</code> object provides all of the configuration
 controls which determine where the XML synchronization files are
 written, what external program should be used to process the files,
 and what data needs to be written out for synchronization.</p>

 <p>Like <A HREF="../../../../arlut/csd/ganymede/server/GanymedeBuilderTask.html" title="class in arlut.csd.ganymede.server"><CODE>GanymedeBuilderTask</CODE></A>,
 SyncRunner synchronization is done in a split phase manner, in
 which step 1 writes out data files and step 2 executes an external
 script to process the files.  Unlike GanymedeBuilderTask,
 SyncRunner's step 1 is done synchronously with transaction commit,
 rather than being done on a best-effort basis at some point after
 the transaction is committed.  Every time a transaction is
 committed, the Ganymede server compares the objects involved in the
 transaction against every registered <code>Sync Channel</code>
 object.  If any of the objects or fields created, deleted, or
 edited during the transaction matches against a Sync Channel's
 so-called <code>Field Options</code> matrix of objects and fields
 to sync, that Sync Channel will write an XML file to the directory
 configured in the Sync Channel's <code>Queue Directory</code>
 field.</p>

 <p>Each XML file that is created in a Sync Channel output directory
 is given a unique filename, based on the number of transactions
 committed by the Ganymede server since the server's database was
 first initialized.  The first transaction committed is transaction
 0, the second is 1, and so forth.  These transaction numbers are
 global in the Ganymede server.  Every time any transaction is
 committed, the transaction number is incremented, whether or not
 any Sync Channels match against the transaction.</p>

 <p>These XML files are written out synchronously with the
 transaction commit.  What this means is that the transaction is not
 counted as successfully committed until all SyncRunners that match
 against the transaction successfully write and flush their XML
 files to the proper output directory.  If a problem prevents any of
 the SyncRunners from successfully writing its XML files, the
 transaction will be aborted as if it never happened.  All of this
 is done with proper ACID transactional guarantees.  The SyncRunner
 implementation is designed so that the Ganymede server can be
 killed at any time without leaving a transaction partially
 committed between the Sync Channels and the Ganymede journal file.
 Either a transaction is successfully recorded to all relevant Sync
 Channels and the journal, or it will not be recorded to any of
 them.</p>

 <p>All of this behavior corresponds to the logic that is
 implemented in the <A HREF="../../../../arlut/csd/ganymede/server/GanymedeBuilderTask.html#builderPhase1()"><CODE>GanymedeBuilderTask.builderPhase1()</CODE></A>
 method in the GanymedeBuilderTask class.  The SyncRunner equivalent
 to the <A HREF="../../../../arlut/csd/ganymede/server/GanymedeBuilderTask.html#builderPhase2()"><CODE>GanymedeBuilderTask.builderPhase2()</CODE></A>
 method is provided by the <code>Service Program</code> specified in
 the corresponding <code>Sync Channel</code> object in the Ganymede
 data store.</p>

 <p>Whenever any transaction is successfully committed, each Sync
 Runner is scheduled for execution by the <A HREF="../../../../arlut/csd/ganymede/server/GanymedeScheduler.html" title="class in arlut.csd.ganymede.server"><CODE>GanymedeScheduler</CODE></A>.  When the Sync
 Runner's <A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#run()"><CODE>run()</CODE></A> method
 is called, it runs its external <code>Service Program</code>,
 passing the most recently committed transaction number as a single
 command line argument.  The <code>Service Program</code> is meant
 to examine the <code>Queue Directory</code> specified in the
 <code>Sync Channel</code> object, and to process any XML files with
 numbers less than or equal to its command line argument.  As is the
 case with GanymedeBuilderTask, the GanymedeScheduler will not
 relaunch a SyncRunner until the previous execution of the
 SyncRunner completes.  Unlike GanymedeBuilderTask, the Ganymede
 server does not prevent new files from being written out while the
 <code>Service Program</code> is being executed.  It is the
 responsibility of the <code>Service Program</code> to ignore any
 XML files that it finds with transaction numbers higher than that
 passed to it on the command line.</p>

 <p>In this way, the Sync Channel system allows transactions to be
 committed at a rapid rate, while allowing the <code>Service
 Program</code> to take as little or as much time as is required to
 process transactions.  The principle of back-to-back builds is very
 much part of this Ganymede synchronization mechanism as well.</p>

 <p>Because the Sync Channel transaction files are generated while
 the transaction is being committed, the Sync Channel writing code
 has complete access to the before and after state of all objects in
 the transaction.  This before and after information is incorporated
 into each XML file, so that the external <code>Service
 Program</code> has access to the change context in order to apply
 the appropriate changes against the directory service target.</p>

 <p>Because Sync Channel synchronization is based on applying
 changes to a directory service target, it works best on directory
 services that can be updated incrementally, like LDAP.  It is not
 designed for systems that require full-state replacement in order
 to make changes at all, such as NIS or classical DNS.  Even for
 systems that can accept incremental changes, however, the use of
 discrete deltas for Ganymede synchronization can be problematic.
 If an XML transaction file cannot successfully be applied to a
 directory service target, the Ganymede server has no way of knowing
 this, because the Service Program is not run until sometime after
 the transaction has been successfully committed.</p>

 <p>In order to cope with this, the Sync Channel system has
 provisions for doing 'full-state' XML dumps as well.  You can do
 this manually by using the Ganymede xmlclient.  The command you
 want looks like</p>

 <pre>
   xmlclient -dumpdata sync=Users > full_users_sync.xml
 </pre>

 <p>The effect of this command is to dump all data in the server
 that matches the filters for the 'Users' Sync Channel to the
 full_users_sync.xml file.  Note that in order for this to work, you
 should make sure that your Sync Channel's name does not include any
 whitespace.  Java's command line parsing logic is fundamentally
 broken, and makes it impossible to portably process command line
 parameters with internal whitespace.  Note as well that, as with
 all xmlclient dump operations, the database is locked against
 transaction commits while this is running, so this operation can
 only be done by a supergash-level account.</p>

 <p>You would use such a full state sync file for those cases where
 the incremental synchronization system experiences a loss of
 synchronization between the Ganymede server and the target
 directory service.  The idea is that your external Service Program
 should in some way be able to recognize that it is being given a
 full state dump, and undertake a more lengthy and computationally
 expensive process of reconciliation to bring the directory service
 target into compliance with the data in the Ganymede server.</p>

 <p>See the <a href="../../../../../synchronization/index.html" target="_top">Ganymede
 synchronization guide</a> for more details on all of this.</p>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.SyncType.html" title="enum in arlut.csd.ganymede.server">SyncRunner.SyncType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enum of possible modalities for a SyncRunner</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/Util/booleanSemaphore.html" title="class in arlut.csd.Util">booleanSemaphore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#active">active</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This semaphore controls whether or not this SyncRunner will
 attempt to write out transactions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#debug">debug</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#directory">directory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/QueueDirFilter.html" title="class in arlut.csd.ganymede.server">QueueDirFilter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#dirFilter">dirFilter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A filter we use to find transaction files in the queue directory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#fullStateFile">fullStateFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/common/scheduleHandle.html" title="class in arlut.csd.ganymede.common">scheduleHandle</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#handle">handle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to the scheduleHandle for this sync channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#id">id</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#includePlaintextPasswords">includePlaintextPasswords</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#major_xml_sync_version">major_xml_sync_version</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XML version major id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server">SyncMaster</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#master">master</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the Sync Channel object in the Ganymede server had a class
 name defined, and we can load it successfully, master will
 contain a reference to the <A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><CODE>SyncMaster</CODE></A> used to provide
 augmentation to the delta sync records produced by this
 SyncRunner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map&lt;java.lang.String,<A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#matrix">matrix</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#minor_xml_sync_version">minor_xml_sync_version</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XML version minor id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.SyncType.html" title="enum in arlut.csd.ganymede.server">SyncRunner.SyncType</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#mode">mode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controls what type of Sync Channel we're handling.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#name">name</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/Util/booleanSemaphore.html" title="class in arlut.csd.Util">booleanSemaphore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#needBuild">needBuild</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This variable is true if we've seen a transaction that requires
 us to issue a build on the next run().</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#queueGrowthMonitor">queueGrowthMonitor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The lock object we're using for the queueGrowthSize management.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#queueGrowthSize">queueGrowthSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If we're an incremental sync channel, we'll track the size of
 what we add to the queue during runs of the service program, so
 we can determine whether the service program cleared the queue
 (minus the new entries) during its run.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#serviceProgram">serviceProgram</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#transactionNumber">transactionNumber</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#ts">ts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TranslationService object for handling string localization in
 the Ganymede server.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#SyncRunner(arlut.csd.ganymede.server.DBObject)">SyncRunner</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;syncChannel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#checkBuildNeeded(arlut.csd.ganymede.server.DBJournalTransaction, arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.server.DBEditSet)">checkBuildNeeded</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord,
                 <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                 <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html" title="class in arlut.csd.ganymede.server">DBEditSet</A>&nbsp;transaction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method checks this Full State SyncRunner against the objects
 involved in the provided transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/server/XMLDumpContext.html" title="class in arlut.csd.ganymede.server">XMLDumpContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#createXMLSync(arlut.csd.ganymede.server.DBJournalTransaction)">createXMLSync</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This private helper method creates the <A HREF="../../../../arlut/csd/ganymede/server/XMLDumpContext.html" title="class in arlut.csd.ganymede.server"><CODE>XMLDumpContext</CODE></A> that writeIncrementalSync() will
 write to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getDirectory()">getDirectory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the queue directory we'll write to if we're an
 incremental build channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getFullStateFile()">getFullStateFile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the file we'll write to for a full state build.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getName()">getName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the Sync Channel that this SyncRunner was
 configured from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getOption(arlut.csd.ganymede.server.DBField)">getOption</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;field)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the SyncPrefEnum, if any, for the given
 field.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getOption(short)">getOption</A></B>(short&nbsp;baseID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the SyncPrefEnum, if any, for the given base.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getOption(short, short)">getOption</A></B>(short&nbsp;baseID,
          short&nbsp;fieldID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the SyncPrefEnum, if any, for the given base and field ids.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getQueueSize()">getQueueSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs a readdir loop on the queue directory for this sync
 channel (if incremental) to see how many entries are currently in
 the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getServiceProgram()">getServiceProgram</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the external service program for this Sync
 Channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#getTransactionNumber()">getTransactionNumber</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of the last transaction known to have been
 safely persisted to disk (journal and sync channels) at the time this
 method is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#includePlaintextPasswords()">includePlaintextPasswords</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the Sync Channel attached to this SyncRunner
 is configured to write plain text passwords.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#initializeFieldBook(arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.common.FieldBook)">initializeFieldBook</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                    <A HREF="../../../../arlut/csd/ganymede/common/FieldBook.html" title="class in arlut.csd.ganymede.common">FieldBook</A>&nbsp;book)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method creates an initial internal FieldBook for this
 SyncRunner, based on the parameters defined in the Sync Channel
 DBObject that this SyncRunner is configured from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#isFullState()">isFullState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this SyncRunner is configured as a full state
 sync channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#isIncremental()">isIncremental</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this SyncRunner is configured as an incremental
 sync channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#mayInclude(arlut.csd.ganymede.server.DBField, boolean)">mayInclude</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;field,
           boolean&nbsp;hasChanged)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the given type of field may be included in
 this sync channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#mayInclude(arlut.csd.ganymede.server.DBObject)">mayInclude</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this sync channel is configured to ever
 include objects of the given baseID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#mayInclude(short)">mayInclude</A></B>(short&nbsp;baseID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this sync channel is configured to ever
 include objects of the given baseID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#mayInclude(short, short, boolean)">mayInclude</A></B>(short&nbsp;baseID,
           short&nbsp;fieldID,
           boolean&nbsp;hasChanged)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the given type of field may be included in
 this sync channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the method that will run when the GanymedeScheduler
 schedules us for execution after a transaction commit.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#runFullState()">runFullState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method handles running a full state XML build.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#runFullStateService()">runFullStateService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method executes the external build, feeding the external
 service script the name of the full state XML file that we dumped
 out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#runIncremental()">runIncremental</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method handles running an incremental XML build.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#setActive(boolean)">setActive</A></B>(boolean&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to enable or disable this sync channel's
 writing of transactions to disk.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#setScheduleHandle(arlut.csd.ganymede.common.scheduleHandle)">setScheduleHandle</A></B>(<A HREF="../../../../arlut/csd/ganymede/common/scheduleHandle.html" title="class in arlut.csd.ganymede.common">scheduleHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a reference to the scheduleHandle that this sync channel
 will use to communicate its status to the admin consoles.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#setTransactionNumber(int)">setTransactionNumber</A></B>(int&nbsp;trans)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to set the number of the last transaction known to have been
 safely persisted to disk (journal and sync channels) at the time this
 method is called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#shouldInclude(arlut.csd.ganymede.server.DBEditObject)">shouldInclude</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the DBEditObject passed in needs to be synced
 to this channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#shouldInclude(arlut.csd.ganymede.server.DBField, arlut.csd.ganymede.server.DBField, arlut.csd.ganymede.common.FieldBook)">shouldInclude</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;newField,
              <A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;origField,
              <A HREF="../../../../arlut/csd/ganymede/common/FieldBook.html" title="class in arlut.csd.ganymede.common">FieldBook</A>&nbsp;book)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the given field needs to be sent to this sync
 channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#unSync(arlut.csd.ganymede.server.DBJournalTransaction)">unSync</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If we go to commit a transaction and we find that we can't
 write a sync to its sync channel for some reason, we'll need to
 go back and erase the sync files that we did write out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#updateAdminConsole(boolean)">updateAdminConsole</A></B>(boolean&nbsp;justRanQueue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the queue status in the admin consoles</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#updateInfo(arlut.csd.ganymede.server.DBObject)">updateInfo</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;syncChannel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure this SyncRunner from the corresponding Ganymede Sync
 Channel DBObject.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#writeFullStateSync(arlut.csd.ganymede.server.GanymedeSession)">writeFullStateSync</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/GanymedeSession.html" title="class in arlut.csd.ganymede.server">GanymedeSession</A>&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method writes out a full state XML dump to the fullStateFile
 registered in this SyncRunner.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.html#writeIncrementalSync(arlut.csd.ganymede.server.DBJournalTransaction, arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.server.DBEditSet)">writeIncrementalSync</A></B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord,
                     <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                     <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html" title="class in arlut.csd.ganymede.server">DBEditSet</A>&nbsp;transaction)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method writes out the differential transaction record to
 the delta Sync Channel defined by this SyncRunner object.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ts"><!-- --></A><H3>
ts</H3>
<PRE>
static final <A HREF="../../../../arlut/csd/Util/TranslationService.html" title="class in arlut.csd.Util">TranslationService</A> <B>ts</B></PRE>
<DL>
<DD><p>TranslationService object for handling string localization in
 the Ganymede server.</p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="debug"><!-- --></A><H3>
debug</H3>
<PRE>
static final boolean <B>debug</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#arlut.csd.ganymede.server.SyncRunner.debug">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="id"><!-- --></A><H3>
id</H3>
<PRE>
private static int <B>id</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="major_xml_sync_version"><!-- --></A><H3>
major_xml_sync_version</H3>
<PRE>
static final byte <B>major_xml_sync_version</B></PRE>
<DL>
<DD>XML version major id
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#arlut.csd.ganymede.server.SyncRunner.major_xml_sync_version">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="minor_xml_sync_version"><!-- --></A><H3>
minor_xml_sync_version</H3>
<PRE>
static final byte <B>minor_xml_sync_version</B></PRE>
<DL>
<DD>XML version minor id
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#arlut.csd.ganymede.server.SyncRunner.minor_xml_sync_version">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="name"><!-- --></A><H3>
name</H3>
<PRE>
private java.lang.String <B>name</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="directory"><!-- --></A><H3>
directory</H3>
<PRE>
private java.lang.String <B>directory</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="fullStateFile"><!-- --></A><H3>
fullStateFile</H3>
<PRE>
private java.lang.String <B>fullStateFile</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="serviceProgram"><!-- --></A><H3>
serviceProgram</H3>
<PRE>
private java.lang.String <B>serviceProgram</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="transactionNumber"><!-- --></A><H3>
transactionNumber</H3>
<PRE>
private int <B>transactionNumber</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="includePlaintextPasswords"><!-- --></A><H3>
includePlaintextPasswords</H3>
<PRE>
private boolean <B>includePlaintextPasswords</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="matrix"><!-- --></A><H3>
matrix</H3>
<PRE>
private java.util.Map&lt;java.lang.String,<A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A>&gt; <B>matrix</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mode"><!-- --></A><H3>
mode</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.SyncType.html" title="enum in arlut.csd.ganymede.server">SyncRunner.SyncType</A> <B>mode</B></PRE>
<DL>
<DD>Controls what type of Sync Channel we're handling.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="needBuild"><!-- --></A><H3>
needBuild</H3>
<PRE>
private <A HREF="../../../../arlut/csd/Util/booleanSemaphore.html" title="class in arlut.csd.Util">booleanSemaphore</A> <B>needBuild</B></PRE>
<DL>
<DD>This variable is true if we've seen a transaction that requires
 us to issue a build on the next run().

 We set this to true on startup so that we will initiate a
 "catch-up" build on server startup, just in case.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="active"><!-- --></A><H3>
active</H3>
<PRE>
private <A HREF="../../../../arlut/csd/Util/booleanSemaphore.html" title="class in arlut.csd.Util">booleanSemaphore</A> <B>active</B></PRE>
<DL>
<DD>This semaphore controls whether or not this SyncRunner will
 attempt to write out transactions.  This semaphore is disabled
 when this Sync Channel is disabled in the admin console.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="master"><!-- --></A><H3>
master</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server">SyncMaster</A> <B>master</B></PRE>
<DL>
<DD>If the Sync Channel object in the Ganymede server had a class
 name defined, and we can load it successfully, master will
 contain a reference to the <A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><CODE>SyncMaster</CODE></A> used to provide
 augmentation to the delta sync records produced by this
 SyncRunner.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="handle"><!-- --></A><H3>
handle</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/common/scheduleHandle.html" title="class in arlut.csd.ganymede.common">scheduleHandle</A> <B>handle</B></PRE>
<DL>
<DD>A reference to the scheduleHandle for this sync channel.  We use
 this handle to set the status for propagation to the admin
 console(s).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="queueGrowthSize"><!-- --></A><H3>
queueGrowthSize</H3>
<PRE>
private int <B>queueGrowthSize</B></PRE>
<DL>
<DD>If we're an incremental sync channel, we'll track the size of
 what we add to the queue during runs of the service program, so
 we can determine whether the service program cleared the queue
 (minus the new entries) during its run.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="queueGrowthMonitor"><!-- --></A><H3>
queueGrowthMonitor</H3>
<PRE>
private java.lang.Object <B>queueGrowthMonitor</B></PRE>
<DL>
<DD>The lock object we're using for the queueGrowthSize management.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="dirFilter"><!-- --></A><H3>
dirFilter</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/QueueDirFilter.html" title="class in arlut.csd.ganymede.server">QueueDirFilter</A> <B>dirFilter</B></PRE>
<DL>
<DD>A filter we use to find transaction files in the queue directory.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SyncRunner(arlut.csd.ganymede.server.DBObject)"><!-- --></A><H3>
SyncRunner</H3>
<PRE>
public <B>SyncRunner</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;syncChannel)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="updateInfo(arlut.csd.ganymede.server.DBObject)"><!-- --></A><H3>
updateInfo</H3>
<PRE>
private void <B>updateInfo</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;syncChannel)</PRE>
<DL>
<DD>Configure this SyncRunner from the corresponding Ganymede Sync
 Channel DBObject.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTransactionNumber(int)"><!-- --></A><H3>
setTransactionNumber</H3>
<PRE>
public void <B>setTransactionNumber</B>(int&nbsp;trans)</PRE>
<DL>
<DD><p>Used to set the number of the last transaction known to have been
 safely persisted to disk (journal and sync channels) at the time this
 method is called.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionNumber()"><!-- --></A><H3>
getTransactionNumber</H3>
<PRE>
public int <B>getTransactionNumber</B>()</PRE>
<DL>
<DD><p>Returns the number of the last transaction known to have been
 safely persisted to disk (journal and sync channels) at the time this
 method is called.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setActive(boolean)"><!-- --></A><H3>
setActive</H3>
<PRE>
public void <B>setActive</B>(boolean&nbsp;state)</PRE>
<DL>
<DD>This method is used to enable or disable this sync channel's
 writing of transactions to disk.  Turning this channel's output
 off may be useful when the sync channel's external service
 program is manually disabled in the admin console.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getName()"><!-- --></A><H3>
getName</H3>
<PRE>
public java.lang.String <B>getName</B>()</PRE>
<DL>
<DD>Returns the name of the Sync Channel that this SyncRunner was
 configured from.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFullState()"><!-- --></A><H3>
isFullState</H3>
<PRE>
public boolean <B>isFullState</B>()</PRE>
<DL>
<DD>Returns true if this SyncRunner is configured as a full state
 sync channel.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isIncremental()"><!-- --></A><H3>
isIncremental</H3>
<PRE>
public boolean <B>isIncremental</B>()</PRE>
<DL>
<DD>Returns true if this SyncRunner is configured as an incremental
 sync channel.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDirectory()"><!-- --></A><H3>
getDirectory</H3>
<PRE>
public java.lang.String <B>getDirectory</B>()</PRE>
<DL>
<DD>Returns the queue directory we'll write to if we're an
 incremental build channel.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getFullStateFile()"><!-- --></A><H3>
getFullStateFile</H3>
<PRE>
public java.lang.String <B>getFullStateFile</B>()</PRE>
<DL>
<DD>Returns the file we'll write to for a full state build.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getServiceProgram()"><!-- --></A><H3>
getServiceProgram</H3>
<PRE>
public java.lang.String <B>getServiceProgram</B>()</PRE>
<DL>
<DD>Returns the name of the external service program for this Sync
 Channel.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setScheduleHandle(arlut.csd.ganymede.common.scheduleHandle)"><!-- --></A><H3>
setScheduleHandle</H3>
<PRE>
public void <B>setScheduleHandle</B>(<A HREF="../../../../arlut/csd/ganymede/common/scheduleHandle.html" title="class in arlut.csd.ganymede.common">scheduleHandle</A>&nbsp;handle)</PRE>
<DL>
<DD>Sets a reference to the scheduleHandle that this sync channel
 will use to communicate its status to the admin consoles.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeIncrementalSync(arlut.csd.ganymede.server.DBJournalTransaction, arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.server.DBEditSet)"><!-- --></A><H3>
writeIncrementalSync</H3>
<PRE>
public void <B>writeIncrementalSync</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord,
                                 <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                                 <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html" title="class in arlut.csd.ganymede.server">DBEditSet</A>&nbsp;transaction)
                          throws java.io.IOException</PRE>
<DL>
<DD><p>This method writes out the differential transaction record to
 the delta Sync Channel defined by this SyncRunner object.  The
 transaction record will only include those objects and fields
 that are specified in the Sync Channel database object that this
 SyncRunner was initialized with, or which are included by a
 SyncMaster class referenced by name in the SyncChannel DBObject
 used to create this SyncRunners.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transRecord</CODE> - A transaction description record describing the transaction we are writing<DD><CODE>objectList</CODE> - An array of DBEditObjects that the transaction has checked out at commit time<DD><CODE>transaction</CODE> - The DBEditSet that is being committed.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkBuildNeeded(arlut.csd.ganymede.server.DBJournalTransaction, arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.server.DBEditSet)"><!-- --></A><H3>
checkBuildNeeded</H3>
<PRE>
public void <B>checkBuildNeeded</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord,
                             <A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                             <A HREF="../../../../arlut/csd/ganymede/server/DBEditSet.html" title="class in arlut.csd.ganymede.server">DBEditSet</A>&nbsp;transaction)
                      throws java.io.IOException</PRE>
<DL>
<DD>This method checks this Full State SyncRunner against the objects
 involved in the provided transaction.  If this SyncRunner's Sync
 Channel definition matches against the transaction, a flag will
 be set causing a Full State build to be executed upon the next
 run of this Sync Runner.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transRecord</CODE> - A transaction description record describing the transaction we are checking<DD><CODE>objectList</CODE> - An array of DBEditObjects that the transaction has checked out at commit time<DD><CODE>transaction</CODE> - The DBEditSet that is being committed.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="unSync(arlut.csd.ganymede.server.DBJournalTransaction)"><!-- --></A><H3>
unSync</H3>
<PRE>
public void <B>unSync</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord)
            throws java.io.IOException</PRE>
<DL>
<DD><p>If we go to commit a transaction and we find that we can't
 write a sync to its sync channel for some reason, we'll need to
 go back and erase the sync files that we did write out.  This method
 is responsible for wielding the axe.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transRecord</CODE> - A transaction description record describing the transaction we are clearing from this sync channel
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createXMLSync(arlut.csd.ganymede.server.DBJournalTransaction)"><!-- --></A><H3>
createXMLSync</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/server/XMLDumpContext.html" title="class in arlut.csd.ganymede.server">XMLDumpContext</A> <B>createXMLSync</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBJournalTransaction.html" title="class in arlut.csd.ganymede.server">DBJournalTransaction</A>&nbsp;transRecord)
                              throws java.io.IOException</PRE>
<DL>
<DD><p>This private helper method creates the <A HREF="../../../../arlut/csd/ganymede/server/XMLDumpContext.html" title="class in arlut.csd.ganymede.server"><CODE>XMLDumpContext</CODE></A> that writeIncrementalSync() will
 write to.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transRecord</CODE> - A transaction description record describing the transaction we are writing
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializeFieldBook(arlut.csd.ganymede.server.DBEditObject[], arlut.csd.ganymede.common.FieldBook)"><!-- --></A><H3>
initializeFieldBook</H3>
<PRE>
private void <B>initializeFieldBook</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>[]&nbsp;objectList,
                                 <A HREF="../../../../arlut/csd/ganymede/common/FieldBook.html" title="class in arlut.csd.ganymede.common">FieldBook</A>&nbsp;book)</PRE>
<DL>
<DD>This method creates an initial internal FieldBook for this
 SyncRunner, based on the parameters defined in the Sync Channel
 DBObject that this SyncRunner is configured from.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="includePlaintextPasswords()"><!-- --></A><H3>
includePlaintextPasswords</H3>
<PRE>
public boolean <B>includePlaintextPasswords</B>()</PRE>
<DL>
<DD><p>Returns true if the Sync Channel attached to this SyncRunner
 is configured to write plain text passwords.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mayInclude(short)"><!-- --></A><H3>
mayInclude</H3>
<PRE>
public boolean <B>mayInclude</B>(short&nbsp;baseID)</PRE>
<DL>
<DD><p>Returns true if this sync channel is configured to ever
 include objects of the given baseID.</p>

 <p>This method does not take into account any augmentation done
 by a linked <A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><CODE>SyncMaster</CODE></A>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mayInclude(arlut.csd.ganymede.server.DBObject)"><!-- --></A><H3>
mayInclude</H3>
<PRE>
public boolean <B>mayInclude</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBObject.html" title="class in arlut.csd.ganymede.server">DBObject</A>&nbsp;object)</PRE>
<DL>
<DD><p>Returns true if this sync channel is configured to ever
 include objects of the given baseID.</p>

 <p>This method does not take into account any augmentation done
 by a linked <A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><CODE>SyncMaster</CODE></A>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shouldInclude(arlut.csd.ganymede.server.DBEditObject)"><!-- --></A><H3>
shouldInclude</H3>
<PRE>
public boolean <B>shouldInclude</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBEditObject.html" title="class in arlut.csd.ganymede.server">DBEditObject</A>&nbsp;object)</PRE>
<DL>
<DD><p>Returns true if the DBEditObject passed in needs to be synced
 to this channel.</p>

 <p>Only intended to be used for Full State Dumps, as it doesn't
 include the SyncMaster augmentation for incrementals.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shouldInclude(arlut.csd.ganymede.server.DBField, arlut.csd.ganymede.server.DBField, arlut.csd.ganymede.common.FieldBook)"><!-- --></A><H3>
shouldInclude</H3>
<PRE>
public boolean <B>shouldInclude</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;newField,
                             <A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;origField,
                             <A HREF="../../../../arlut/csd/ganymede/common/FieldBook.html" title="class in arlut.csd.ganymede.common">FieldBook</A>&nbsp;book)</PRE>
<DL>
<DD><p>Returns true if the given field needs to be sent to this sync
 channel.  This method is responsible for doing the determination
 only if both field and origField are not null and isDefined().</p>

 <p>Only intended to be used for Full State Dumps, as it doesn't
 include the SyncMaster augmentation for incrementals.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mayInclude(arlut.csd.ganymede.server.DBField, boolean)"><!-- --></A><H3>
mayInclude</H3>
<PRE>
public boolean <B>mayInclude</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;field,
                          boolean&nbsp;hasChanged)</PRE>
<DL>
<DD><p>Returns true if the given type of field may be included in
 this sync channel.  The hasChanged parameter should be set to
 true if the field being tested was changed in the current
 transaction, or false if it remains unchanged.</p>

 <p>This differs from shouldInclude on DBField in that this method
 leaves it to the caller to decide whether the field has changed.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mayInclude(short, short, boolean)"><!-- --></A><H3>
mayInclude</H3>
<PRE>
public boolean <B>mayInclude</B>(short&nbsp;baseID,
                          short&nbsp;fieldID,
                          boolean&nbsp;hasChanged)</PRE>
<DL>
<DD><p>Returns true if the given type of field may be included in
 this sync channel.  The hasChanged parameter should be set to
 true if the field being tested was changed in the current
 transaction, or false if it remains unchanged.</p>

 <p>This differs from shouldInclude on DBField in that this method
 leaves it to the caller to decide whether the field has changed.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOption(arlut.csd.ganymede.server.DBField)"><!-- --></A><H3>
getOption</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A> <B>getOption</B>(<A HREF="../../../../arlut/csd/ganymede/server/DBField.html" title="class in arlut.csd.ganymede.server">DBField</A>&nbsp;field)</PRE>
<DL>
<DD><p>Returns the SyncPrefEnum, if any, for the given
 field.  This enum can be one of three values:</p>

 <p>NEVER, meaning the field is never included in this sync channel, nor
 should it be examined to make a decision about whether a given
 object is written to this sync channel.</p>

 <p>WHENCHANGED, meaning that the field is included in this sync channel if
 it has changed, and that the object that includes the field
 should be written to the sync channel if this field was changed
 in the object.  If a field has an option string of WHENCHANGED but has
 not changed in a given transaction, that field won't trigger the
 object to be written to the sync channel.</p>

 <p>ALWAYS, meaning that the field is always included in this sync
 channel if the object that it is contained in is sent to this
 sync channel, even if it wasn't changed in the transaction.  If
 this field was changed in a given transaction, that will suffice
 to cause an object that is changed in any fashion during a
 transaction to be sent to this sync channel.  In this sense, it
 is like WHENCHANGED, but with the added feature that it will "ride along"
 with its object to the sync channel, even if it wasn't changed
 during the transaction.</p>

 <p>If WHENCHANGED or ALWAYS is true for a field in a given object
 type, the corresponding SyncPrefEnum for the object's type should
 be WHENCHANGED, signaling that at least some fields in the object
 should be sent to this sync channel when the object is involved
 in a transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOption(short, short)"><!-- --></A><H3>
getOption</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A> <B>getOption</B>(short&nbsp;baseID,
                               short&nbsp;fieldID)</PRE>
<DL>
<DD><p>Returns the SyncPrefEnum, if any, for the given base and field ids.
 This enum can be one of three values:</p>

 <p>NEVER, meaning the field is never included in this sync channel, nor
 should it be examined to make a decision about whether a given
 object is written to this sync channel.</p>

 <p>WHENCHANGED, meaning that the field is included in this sync channel if
 it has changed, and that the object that includes the field
 should be written to the sync channel if this field was changed
 in the object.  If a field has an option string of WHENCHANGED but has
 not changed in a given transaction, that field won't trigger the
 object to be written to the sync channel.</p>

 <p>ALWAYS, meaning that the field is always included in this sync
 channel if the object that it is contained in is sent to this
 sync channel, even if it wasn't changed in the transaction.  If
 this field was changed in a given transaction, that will suffice
 to cause an object that is changed in any fashion during a
 transaction to be sent to this sync channel.  In this sense, it
 is like WHENCHANGED, but with the added feature that it will "ride along"
 with its object to the sync channel, even if it wasn't changed
 during the transaction.</p>

 <p>If WHENCHANGED or ALWAYS is true for a field in a given object
 type, the corresponding SyncPrefEnum for the object's type should
 be WHENCHANGED, signaling that at least some fields in the object
 should be sent to this sync channel when the object is involved
 in a transaction.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOption(short)"><!-- --></A><H3>
getOption</H3>
<PRE>
private <A HREF="../../../../arlut/csd/ganymede/common/SyncPrefEnum.html" title="enum in arlut.csd.ganymede.common">SyncPrefEnum</A> <B>getOption</B>(short&nbsp;baseID)</PRE>
<DL>
<DD><p>Returns the SyncPrefEnum, if any, for the given base.  This option
 string should be one of two values:</p>

 <p>NEVER, meaning that this object type will never be sent to this
 sync channel.</p>

 <p>WHENCHANGED, meaning that this object type may be sent to this
 sync channel if any field contained within it which has a
 SyncPrefEnum of WHENCHANGED or ALWAYS was changed during the
 transaction.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>This is the method that will run when the GanymedeScheduler
 schedules us for execution after a transaction commit.  If our
 incremental flag is set to true, we'll consider ourselves as
 servicing an incremental build, in which case we just call our
 servicer script with the last transaction committed as our
 command line argument.  If we are full state, we'll do more like
 a <A HREF="../../../../arlut/csd/ganymede/server/GanymedeBuilderTask.html" title="class in arlut.csd.ganymede.server"><CODE>GanymedeBuilderTask</CODE></A>| and
 write out a complete, filtered dump of the server's contents to
 an XML file and then call the servicer with that file name as a
 command line argument.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="runFullState()"><!-- --></A><H3>
runFullState</H3>
<PRE>
public void <B>runFullState</B>()</PRE>
<DL>
<DD>This method handles running a full state XML build.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="writeFullStateSync(arlut.csd.ganymede.server.GanymedeSession)"><!-- --></A><H3>
writeFullStateSync</H3>
<PRE>
private void <B>writeFullStateSync</B>(<A HREF="../../../../arlut/csd/ganymede/server/GanymedeSession.html" title="class in arlut.csd.ganymede.server">GanymedeSession</A>&nbsp;session)
                         throws <A HREF="../../../../arlut/csd/ganymede/common/NotLoggedInException.html" title="class in arlut.csd.ganymede.common">NotLoggedInException</A>,
                                java.rmi.RemoteException,
                                java.io.IOException</PRE>
<DL>
<DD>This method writes out a full state XML dump to the fullStateFile
 registered in this SyncRunner.  It is run within the context of a
 <A HREF="../../../../arlut/csd/ganymede/server/DBDumpLock.html" title="class in arlut.csd.ganymede.server"><CODE>DBDumpLock</CODE></A> asserted on the
 Ganymede <A HREF="../../../../arlut/csd/ganymede/server/DBStore.html" title="class in arlut.csd.ganymede.server"><CODE>DBStore</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../arlut/csd/ganymede/common/NotLoggedInException.html" title="class in arlut.csd.ganymede.common">NotLoggedInException</A></CODE>
<DD><CODE>java.rmi.RemoteException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="runFullStateService()"><!-- --></A><H3>
runFullStateService</H3>
<PRE>
private void <B>runFullStateService</B>()</PRE>
<DL>
<DD>This method executes the external build, feeding the external
 service script the name of the full state XML file that we dumped
 out.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="runIncremental()"><!-- --></A><H3>
runIncremental</H3>
<PRE>
public void <B>runIncremental</B>()</PRE>
<DL>
<DD>This method handles running an incremental XML build.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getQueueSize()"><!-- --></A><H3>
getQueueSize</H3>
<PRE>
public int <B>getQueueSize</B>()</PRE>
<DL>
<DD>Performs a readdir loop on the queue directory for this sync
 channel (if incremental) to see how many entries are currently in
 the queue.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateAdminConsole(boolean)"><!-- --></A><H3>
updateAdminConsole</H3>
<PRE>
private void <B>updateAdminConsole</B>(boolean&nbsp;justRanQueue)</PRE>
<DL>
<DD>Updates the queue status in the admin consoles
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SyncRunner.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncMaster.html" title="interface in arlut.csd.ganymede.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../arlut/csd/ganymede/server/SyncRunner.SyncType.html" title="enum in arlut.csd.ganymede.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?arlut/csd/ganymede/server/SyncRunner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SyncRunner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
